<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Área de Análisis Textual</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{ --bd:#e6e8eb; --muted:#6b7280; --primary:#0d6efd; }
    body{ background:#f8fafc; }
    .topbar{
      background:#ffffff;
      border-bottom:1px solid var(--bd);
      position:sticky; top:0; z-index:1000;
    }
    .sitewrap{ max-width: 1280px; }
    .panel{
      background:#fff;
      border:1px solid var(--bd);
      border-radius:12px;
    }
    .panel-header{
      border-bottom:1px solid var(--bd);
      padding:.75rem 1rem;
      font-weight:600;
    }
    .panel-body{ padding:1rem; }
    .btn-soft{ background:#f1f5f9; border:1px solid var(--bd); }
    .btn-soft:hover{ background:#e9eef5; }
    .tag{
      display:inline-flex;
      align-items:center;
      gap:.35rem;
      padding:.15rem .6rem;
      border-radius:999px;
      font-size:.8rem;
      background:#f3f4f6;
      color:#111827;
      border:1px solid #e5e7eb;
    }
    .muted{ color:var(--muted); }
    .lexicon-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:.75rem;
    }
    .example-card{
      border:1px dashed #cbd5f5;
      background:#f8fafc;
      border-radius:10px;
      padding:.65rem .75rem;
      font-size:.9rem;
    }
    .greek{
      font-family: 'Gentium Plus','SBL Greek','Times New Roman',serif;
      font-size:1.05rem;
    }
    .hebrew{
      direction:rtl;
      unicode-bidi:plaintext;
      font-family: 'SBL Hebrew','Ezra SIL','Times New Roman',serif;
      font-size:1.08rem;
    }
    .search-row{ gap:.75rem; }
    .helper-list li{ margin-bottom:.35rem; }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="container sitewrap py-2 d-flex flex-wrap gap-2 align-items-center justify-content-between">
      <div>
        <div class="fw-semibold">Área de análisis textual</div>
        <div class="small muted">LXX · Hebreo · NA28 · RVR1960</div>
      </div>
      <div class="d-flex gap-2">
        <a class="btn btn-soft btn-sm" href="index.html">Volver al lector</a>
        <button id="saveSessionBtn" class="btn btn-primary btn-sm" type="button">Guardar sesión</button>
        <span id="saveStatus" class="small muted align-self-center"></span>                                                                                      
      </div>
    </div>
  </header>

  <main class="container sitewrap my-3 my-lg-4">
    <section class="panel mb-3">
      <div class="panel-header">Buscador y criterio</div>
      <div class="panel-body">
        <div class="row search-row g-2">
          <div class="col-12 col-lg-6">
            <label for="queryInput" class="form-label fw-semibold">Buscar palabra, lema o frase compuesta</label>
            <div class="input-group">
              <input id="queryInput" class="form-control" placeholder="Ej: אָב, πατήρ, origen, fuente" value="πατήρ"/>
             <button id="analyzeBtn" class="btn btn-primary" type="button">Analizar</button>
            </div>
            <div class="form-text">Se aceptan términos en hebreo, griego o español. El sistema prioriza el lema y las variantes morfológicas.</div>
          </div>
          <div class="col-12 col-lg-6">
         <label class="form-label fw-semibold">Filtros rápidos</label>
 <button class="btn btn-soft btn-sm" type="button" data-filter="torah">Torah</button>
              <button class="btn btn-soft btn-sm" type="button" data-filter="profetas">Profetas</button>
              <button class="btn btn-soft btn-sm" type="button" data-filter="evangelios">Evangelios</button>
              <button class="btn btn-soft btn-sm" type="button" data-filter="cartas">Cartas</button>
              <button class="btn btn-soft btn-sm" type="button" data-filter="todo">Todo</button>
            </div>
            <div class="form-text">Los filtros ajustan los resultados por corpus según el idioma detectado.</div>
          </div>
        </div>
      </div>
    </section>

    <div class="row g-3">
      <div class="col-12 col-lg-4">
        <section class="panel h-100">
          <div class="panel-header">Resumen del lema</div>
          <div class="panel-body">
            <div class="d-flex flex-column gap-2">
              
        <div id="lemmaTags" class="d-flex flex-wrap gap-2"></div>
              <p id="lemmaSummary" class="mb-2 small muted">Escribe un término para generar el resumen del lema.</p>
              <div id="lemmaExamples" class="d-grid gap-2"></div>
            </div>
          </div>
        </section>
      </div>

      <div class="col-12 col-lg-8">
        <section class="panel">
          <div class="panel-header">Resultados por corpus</div>
          <div class="panel-body">
            <div id="resultsByCorpus" class="row g-3"></div>
          </div>
        </section>
      </div>
    </div>

    <div class="row g-3 mt-1">
       <div class="col-12">
        <section class="panel h-100">
          <div class="panel-header">Desglose morfológico y semántico</div>
          <div class="panel-body">
            <div class="mb-3">
              <div class="fw-semibold">Desglose</div>
              <ul id="breakdownList" class="helper-list small"></ul>
            </div>
            <div>
              <div class="fw-semibold">Notas para crítica textual</div>
            <p id="textualNotes" class="small mb-0">Las notas se generan con base en el diccionario y las ocurrencias del corpus.</p>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>
  <script src="./analisis.js"></script>
</body>
</html>
