<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Lector de Pasajes</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{ --bd:#e6e8eb; --muted:#6b7280; }
    body{ background:#f8fafc; }
    .topbar{
      background:#ffffff;
      border-bottom:1px solid var(--bd);
      position:sticky; top:0; z-index:1000;
    }
    .sitewrap{ max-width: 1200px; }
    .crumbs{
      font-size:.9rem; color:var(--muted);
    }
    .panel{
      background:#fff;
      border:1px solid var(--bd);
      border-radius:12px;
    }
    .panel-header{
      border-bottom:1px solid var(--bd);
      padding:.75rem 1rem;
      font-weight:600;
    }
    .panel-body{ padding:1rem; }
    .meta-row{ color:var(--muted); font-size:.9rem; }
    .passage-title{ font-size:1.25rem; font-weight:700; }
    .passage-text{ font-size:1.05rem; line-height:1.85; }
    .verse-num{ color:#2563eb; font-weight:700; margin-right:.25rem; font-size:.85em; }
    .mini-link{ color:var(--muted); text-decoration:none; }
    .mini-link:hover{ text-decoration:underline; }
    .btn-soft{
      background:#f1f5f9; border:1px solid var(--bd);
    }
    .btn-soft:hover{ background:#e9eef5; }
    .sticky-aside{ position: sticky; top: 86px; }
  </style>
</head>

<body>
  <!-- TOP SEARCH BAR -->
  <header class="topbar">
    <div class="container sitewrap py-2">
      <div class="d-flex flex-column flex-lg-row align-items-lg-center gap-2 gap-lg-3">
        <div class="d-flex align-items-center gap-2 flex-grow-1">
          <span class="badge text-bg-dark rounded-pill">Lector</span>
          <form id="searchForm" class="d-flex gap-2 flex-grow-1">
            <input id="searchInput" class="form-control" value="Apocalipsis 14" placeholder="Buscar: ej. Apocalipsis 14 / Jn 3:16"/>
            <select id="versionSelect" class="form-select" style="max-width:180px">
              <option value="RVR1960" selected>RVR1960</option>
              <option value="RVR1995">RVR1995</option>
              <option value="NVI">NVI</option>
            </select>
            <button class="btn btn-primary" type="submit">Buscar</button>
          </form>
        </div>

        <div class="d-flex gap-2">
          <button class="btn btn-soft btn-sm" type="button">Compartir</button>
          <button class="btn btn-soft btn-sm" type="button">Ajustes</button>
          <button class="btn btn-soft btn-sm" type="button">Iniciar sesión</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container sitewrap my-3 my-lg-4">
    <!-- BREADCRUMBS + HEADER -->
    <div class="d-flex flex-column gap-2 mb-3">
      <div class="crumbs">
        <a class="mini-link" href="#">Inicio</a>
        <span class="mx-1">›</span>
        <a class="mini-link" href="#">Biblias</a>
        <span class="mx-1">›</span>
        <span>Pasaje</span>
      </div>

      <div class="d-flex flex-column flex-md-row justify-content-between gap-2">
        <div>
          <div class="passage-title">Apocalipsis 14</div>
          <div class="meta-row">Versión: <span class="fw-semibold" id="metaVersion">RVR1960</span> · <span class="text-muted">Plantilla (texto de ejemplo)</span></div>
        </div>

        <div class="d-flex flex-wrap gap-2 align-items-start">
          <button class="btn btn-soft btn-sm" type="button">Copiar</button>
          <button class="btn btn-soft btn-sm" type="button">Imprimir</button>
          <button class="btn btn-soft btn-sm" type="button">Guardar</button>
          <button class="btn btn-soft btn-sm" type="button">Escuchar</button>
        </div>
      </div>
    </div>

    <div class="row g-3">
      <!-- MAIN CONTENT -->
      <div class="col-12 col-lg-8">
        <!-- Passage panel -->
        <section class="panel mb-3">
          <div class="panel-header d-flex justify-content-between align-items-center">
            <span>Texto del pasaje</span>
            <div class="d-flex gap-2">
              <button class="btn btn-soft btn-sm" type="button">Tamaño</button>
              <button class="btn btn-soft btn-sm" type="button">Números</button>
              <button class="btn btn-soft btn-sm" type="button">Interlineal</button>
            </div>
          </div>

          <div class="panel-body">
            <div class="passage-text" id="passageText">
              <!-- Texto placeholder (simula versículos) -->
              <p class="mb-2"><span class="verse-num">1</span>Texto de ejemplo del versículo 1. Aquí se renderiza el contenido de tu base de datos.</p>
              <p class="mb-2"><span class="verse-num">2</span>Texto de ejemplo del versículo 2. Mantén esta estructura para luego conectar tu fuente real.</p>
              <p class="mb-2"><span class="verse-num">3</span>Texto de ejemplo del versículo 3.</p>
              <p class="mb-0 text-muted" style="font-size:.95rem">* Reemplaza este contenido con tu render real.</p>
            </div>
          </div>
        </section>

        <!-- Notes / cross refs panel (optional) -->
        <section class="panel">
          <div class="panel-header">Notas / Referencias</div>
          <div class="panel-body">
            <div class="text-muted">Sección opcional para cross-references, notas, etc.</div>
            <ul class="mb-0">
              <li>Referencia paralela (ejemplo)</li>
              <li>Otra nota (ejemplo)</li>
            </ul>
          </div>
        </section>
      </div>

      <!-- RIGHT SIDEBAR -->
      <aside class="col-12 col-lg-4">
        <div class="sticky-aside d-flex flex-column gap-3">
          <!-- Quick tools -->
          <section class="panel">
            <div class="panel-header">Herramientas</div>
            <div class="panel-body d-grid gap-2">
              <button class="btn btn-soft" type="button">Comparar versiones</button>
              <button class="btn btn-soft" type="button">Marcadores</button>
              <button class="btn btn-soft" type="button">Plan de lectura</button>
            </div>
          </section>

          <!-- Navigation -->
          <section class="panel">
            <div class="panel-header">Navegación</div>
            <div class="panel-body">
              <div class="d-flex gap-2 mb-2">
                <button class="btn btn-soft btn-sm" type="button">◀ Anterior</button>
                <button class="btn btn-soft btn-sm" type="button">Siguiente ▶</button>
              </div>

              <div class="text-muted mb-2" style="font-size:.9rem">Ir a:</div>
              <div class="d-flex gap-2">
                <select class="form-select form-select-sm">
                  <option>Apocalipsis</option>
                </select>
                <select class="form-select form-select-sm" style="max-width:110px">
                  <option selected>14</option>
                  <option>15</option>
                  <option>16</option>
                </select>
              </div>
            </div>
          </section>

          <!-- Related -->
          <section class="panel">
            <div class="panel-header">Relacionado</div>
            <div class="panel-body">
              <ul class="mb-0">
                <li><a class="mini-link" href="#">Comentario (placeholder)</a></li>
                <li><a class="mini-link" href="#">Diccionario (placeholder)</a></li>
                <li><a class="mini-link" href="#">Devocional (placeholder)</a></li>
              </ul>
            </div>
          </section>
        </div>
      </aside>
    </div>
  </main>

  <script>
    const form = document.getElementById('searchForm');
    const searchInput = document.getElementById('searchInput');
    const versionSelect = document.getElementById('versionSelect');
    const metaVersion = document.getElementById('metaVersion');
    const title = document.querySelector('.passage-title');

    function setFromUrl(){
      const p = new URLSearchParams(location.search);
      const q = p.get('search');
      const v = p.get('version');
      if(q) searchInput.value = q;
      if(v) versionSelect.value = v;
      metaVersion.textContent = versionSelect.value;
      title.textContent = searchInput.value || 'Pasaje';
    }

    function updateUrl(){
      const q = (searchInput.value || '').trim();
      const v = versionSelect.value;
      const p = new URLSearchParams();
      if(q) p.set('search', q);
      if(v) p.set('version', v);
      history.replaceState(null, '', `${location.pathname}?${p.toString()}`);
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      metaVersion.textContent = versionSelect.value;
      title.textContent = (searchInput.value || '').trim() || 'Pasaje';
      updateUrl();
      // Aquí conectarías tu render real del texto
    });

    versionSelect.addEventListener('change', () => {
      metaVersion.textContent = versionSelect.value;
      updateUrl();
    });

    setFromUrl();
  </script>
</body>
</html>
